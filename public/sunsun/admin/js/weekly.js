$((function(){var e,t,n,a,o=$("#date_start_week");function r(o){t=moment(o,"YYYY/MM/DD").day(1).format("YYYY/MM/DD"),n=moment(o,"YYYY/MM/DD").add(7,"days").day(0).format("YYYY/MM/DD"),e.datepicker("update",t),e.val(t+" - "+n).trigger("input");var r=moment(t).format("YYYYMMDD"),c=moment(n).format("YYYYMMDD");a=$curent_url+"?date_from="+r+"&date_to="+c}function c(){window.location.href=a}$("#button-current__weekly").off("click"),$("#button-current__weekly").on("click",(function(e){$("#input-current__weekly").focus()})),(e=$("#input-current__weekly")).datepicker({dateFormat:"yyyy/mm/dd",language:"ja",autoclose:!0,forceParse:!1,weekStart:1,container:"#week-picker-wrapper"}).on("changeDate",(function(e){r(e.date)})),$(".week-prev").on("click",(function(){r(moment(t,"YYYY/MM/DD").subtract(7,"days").day(0).format("YYYY/MM/DD")),c()})),$(".week-next").on("click",(function(){r(moment(t,"YYYY/MM/DD").add(7,"days").day(0).format("YYYY/MM/DD")),c()}));var l=o.val();r(new Date(l)),e.on("change",(function(){c()})),$("#go-monthly").off("click"),$("#go-monthly").on("click",(function(t){var n=e.datepicker("getDate"),a=moment(n).format("YMM"),o=$curent_url.substring(0,$curent_url.length-6)+"monthly";window.location.href=o+"?date="+a})),$(".select-marked").off("mouseenter"),$(".select-marked").on("mouseenter",(function(e){$(".date"+$(this).find(".full_date").val()).addClass("hover")})),$(".select-marked").off("mouseleave"),$(".select-marked").on("mouseleave",(function(e){$(".date"+$(this).find(".full_date").val()).removeClass("hover")})),$(".select-marked").off("click"),$(".select-marked").on("click",(function(e){var t=$(this).find(".full_date").val(),n=$curent_url.substring(0,$curent_url.length-6)+"day";window.location.href=n+"?date="+t}))}));
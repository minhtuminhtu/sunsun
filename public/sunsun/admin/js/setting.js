$(document).ready((function(){var t=function(){$("#new").off("click"),$("#new").on("click",(function(){var t=$("#setting-type").val();$.ajax({url:"/admin/get_setting_kubun_type",type:"post",data:{new:1,kubun_type:t},beforeSend:function(){loader.css({display:"block"})},success:function(t){$(".modal-body").html(t),$("#setting_update").modal("show"),e()},complete:function(){loader.css({display:"none"})}})})),$("#check_all").off("change"),$("#check_all").on("change",(function(){$(this).prop("checked")?($(".checkbox").prop("checked",!0),$(".update-edit").show()):($(".checkbox").prop("checked",!1),$(".update-edit").hide())})),$(".checkbox").off("change"),$(".checkbox").on("change",(function(){$(".checkbox").filter(":checked").length>0?$(".update-edit").show():$(".update-edit").hide(),$(".checkbox").filter(":checked").length==$(".checkbox").length?$("#check_all").prop("checked",!0):$("#check_all").prop("checked",!1)})),$(".kubun_value").off("click"),$(".kubun_value").on("click",(function(){var t=$(this).parent().parent().find(".kubun_id").text(),n=$("#setting-type").val();$.ajax({url:"/admin/get_setting_kubun_type",type:"post",data:{new:0,kubun_id:t,kubun_type:n},beforeSend:function(){loader.css({display:"block"})},success:function(t){$(".modal-body").html(t),$("#setting_update").modal("show"),e()},complete:function(){loader.css({display:"none"})}})})),$("#btn-update").off("click"),$("#btn-update").on("click",(function(){var t=$(".checkbox").filter(":checked").first().val(),n=$("#setting-type").val();$.ajax({url:"/admin/get_setting_kubun_type",type:"post",data:{new:0,kubun_id:t,kubun_type:n},beforeSend:function(){loader.css({display:"block"})},success:function(t){$(".modal-body").html(t),$("#setting_update").modal("show"),e()},complete:function(){loader.css({display:"none"})}})})),$("#btn-delete").off("click"),$("#btn-delete").on("click",(function(){var t="",e=[];if($(".checkbox").filter(":checked").each((function(n){t+="\n"+$(this).val()+" - "+$(this).parent().parent().find(".kubun_value").text(),e.push($(this).val())})),1==confirm("Are you sure to delete this item?"+t)){var o=$("#setting-type").val();$.ajax({url:"/admin/delete_setting_kubun_type",type:"delete",data:{arr_delete:e,kubun_type:o},beforeSend:function(){loader.css({display:"block"})},success:function(t){n($("#setting-type").val())},complete:function(){loader.css({display:"none"})},error:function(t){419===t.status&&(window.location.href.includes("admin")?Swal.fire({target:"#edit_booking",text:"セッションがタイムアウトされました。ウェブサイトをリロードしてください。",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d7751e",cancelButtonColor:"#343a40",confirmButtonText:"はい",cancelButtonText:"いいえ",width:350,showClass:{popup:"animated zoomIn faster"},hideClass:{popup:"animated zoomOut faster"},allowOutsideClick:!1}).then((function(t){t.value&&window.location.reload(!0)})):Swal.fire({text:"セッションがタイムアウトされました。ウェブサイトをリロードしてください。",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d7751e",cancelButtonColor:"#343a40",confirmButtonText:"はい",cancelButtonText:"いいえ",width:350,showClass:{popup:"animated zoomIn faster"},hideClass:{popup:"animated zoomOut faster"},allowOutsideClick:!1}).then((function(t){t.value&&window.location.reload(!0)})))}})}})),$(".btn-up").off("click"),$(".btn-up").on("click",(function(){var t=$(this).parent().parent().find(".sort_no").text(),e=$("#setting-type").val();$.ajax({url:"/admin/update_setting_sort_no",type:"post",data:{type:"up",sort_no:t,kubun_type:e},beforeSend:function(){loader.css({display:"block"})},success:function(t){n($("#setting-type").val())},complete:function(){loader.css({display:"none"})}})})),$(".btn-down").off("click"),$(".btn-down").on("click",(function(){var t=$(this).parent().parent().find(".sort_no").text(),e=$("#setting-type").val();$.ajax({url:"/admin/update_setting_sort_no",type:"post",data:{type:"down",sort_no:t,kubun_type:e},beforeSend:function(){loader.css({display:"block"})},success:function(t){n($("#setting-type").val())},complete:function(){loader.css({display:"none"})}})}))},e=function(){$(".btn-down").off("click"),$(".btn-down").on("click",(function(){$("#setting_update").modal("hide")})),$(".btn-cancel").off("click"),$(".btn-cancel").click((function(){$("#setting_update").modal("hide")})),$(".btn-save").off("click"),$(".btn-save").on("click",(function(){var t=$("#setting-type").val(),e=$("#kubun_id").val(),o=$("#kubun_value").val(),c=$("#notes").val(),a=$(".kubun_value").length+1,i=$("#new_check").val();$.ajax({url:"/admin/update_setting_kubun_type",type:"post",data:{new:i,kubun_id:e,kubun_value:o,kubun_type:t,notes:c,sort_no:a},beforeSend:function(){loader.css({display:"block"})},success:function(t){$("#setting_update").modal("hide"),n($("#setting-type").val())},error:function(t){var e=JSON.parse(t.responseText);$(".setting-validate").text(e.msg)},complete:function(){loader.css({display:"none"})}})}))},n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;$("#setting-head").text($("#setting-type").val()+" | "+$("#setting-type option:selected").text()),null==e&&(e=$("#setting-type").val()),$.ajax({url:"/admin/get_setting_type",type:"post",data:{kubun_type:e},beforeSend:function(){loader.css({display:"block"})},success:function(e){$(".setting-right").html(e),t()},complete:function(){loader.css({display:"none"})}})};$("#setting-type").off("change"),$("#setting-type").on("change",(function(){n()})),n()}));